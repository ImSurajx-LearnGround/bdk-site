<!DOCTYPE html>
<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elegance Events - Complete Website</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700&family=Epilogue:ital,wght@0,400;0,500;0,600;0,700&display=swap"
    rel="stylesheet" />

  <!-- Material Symbols -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

  <!-- Merged Tailwind Config -->
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#C5A352", // Master Gold
            "accent": "#D4AF37", // Secondary Gold
            "background-light": "#FDFBF8",
            "background-dark": "#221019",
            "card-light": "#FFFFFF",
            "card-dark": "#3D3528",
            "text-light": "#4A3B2B",
            "text-dark": "#F5EFE6",
            "subtle-text-light": "#8C7A68",
            "subtle-text-dark": "#d4c8b2",
            "border-light": "#e0d5bf",
            "border-dark": "#4a402f",

            // Legacy colors
            "brand-gold": "#C5A352",
            "brand-cream": "#F5EFE6",
            "brand-ivory": "#FFFBEF",
            "brand-dark": "#3A3021",
            "brand-text": "#5D544A",
            "ivory": "#FAF8F5",
            "cream": "#F4EADF",
            "gold": "#C0A175",
            "gold-light": "#D4B996",
            "gold-dark": "#8C7353",
            "accent-gold": "#C19A6B",
          },
          fontFamily: {
            "display": ["Playfair Display", "serif"], // Primary Headings
            "body": ["Poppins", "sans-serif"],    // Body text, secondary headings
            "sans": ["Epilogue", "sans-serif"],   // Legacy/Fallback sans
            "serif": ["Playfair Display", "serif"], // Legacy serif
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "1rem",
            "xl": "1.5rem",
            "full": "9999px"
          },
          // Added animation keyframes
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(10px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            },
            // Spinner animation
            spin: {
              '0%': { transform: 'rotate(0deg)' },
              '100%': { transform: 'rotate(360deg)' },
            },
          },
          animation: {
            fadeIn: 'fadeIn 0.5s ease-out forwards',
            spin: 'spin 1s linear infinite', // Spinner animation
          },
        },
      },
    }
  </script>

  <style>
    /* Base body font */
    body {
      font-family: 'Poppins', sans-serif;
      /* Default to Poppins */
      min-height: max(884px, 100dvh);
    }

    /* Primary Headings */
    h1,
    h2.font-display,
    h3.font-display,
    h4.font-display {
      /* Use font-display class for primary headings */
      font-family: 'Playfair Display', serif;
    }

    /* Ensure specific elements use Poppins if needed */
    p,
    .font-body,
    .font-sans,
    button,
    a,
    span,
    label,
    input,
    select,
    details,
    summary {
      /* Target common text elements */
      font-family: 'Poppins', sans-serif;
    }

    /* Ensure explicit font-display overrides body */
    .font-display {
      font-family: 'Playfair Display', serif !important;
    }

    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24
    }

    .form-input {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }

    html {
      scroll-behavior: smooth;
    }

    .nav-link-active {
      color: #C5A352 !important;
      transform: scale(1.1);
    }

    /* Carousel Styles */
    #carousel-track-1,
    #carousel-track-2,
    #testimonial-carousel-track {
      transition: transform 0.5s ease-in-out;
    }

    .carousel-item,
    .testimonial-item {
      flex-shrink: 0;
      width: calc(100% - 2rem);
      /* Mobile: 1 item visible */
      margin-right: 1rem;
    }

    #carousel-viewport,
    #testimonial-carousel-viewport {
      overflow-x: hidden;
    }

    @media (min-width: 640px) {

      /* sm */
      .carousel-item,
      .testimonial-item {
        width: calc((100% / 2) - (1rem * 1 / 2));
        /* 2 items visible */
        margin-right: 0;
      }
    }

    @media (min-width: 768px) {

      /* md */
      .carousel-item {
        width: calc((100% / 3) - (1rem * 2 / 3));
        /* 3 items for services */
      }

      .testimonial-item {
        width: calc((100% / 2) - (1rem * 1 / 2));
        /* 2 items for testimonials */
      }
    }

    @media (min-width: 1024px) {

      /* lg */
      .carousel-item {
        width: calc((100% / 6) - (1rem * 5 / 6));
        /* 6 items for services */
      }

      .testimonial-item {
        width: calc((100% / 3) - (1rem * 2 / 3));
        /* 3 items for testimonials */
      }
    }

    .carousel-button {
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 50%;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 10;
      transition: background-color 0.2s;
      cursor: pointer;
    }

    .carousel-button:hover {
      background-color: rgba(255, 255, 255, 0.9);
    }

    .carousel-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .carousel-button .material-symbols-outlined {
      font-size: 1.5rem;
    }

    /* About cards height */
    #about .grid>div {
      height: 100%;
    }

    /* Animation utility */
    .animate-on-scroll {
      opacity: 0;
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      /* Add transition */
      transform: translateY(20px);
      /* Start slightly lower */
    }

    .animate-on-scroll.is-visible {
      opacity: 1;
      transform: translateY(0);
      /* Move to original position */
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark antialiased">

  <!-- Gemini Theme Modal -->
  <div id="theme-modal"
    class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 hidden">
    <div
      class="bg-card-light dark:bg-card-dark rounded-xl shadow-lg max-w-md w-full p-6 relative max-h-[90vh] overflow-y-auto">
      <button id="close-modal-btn"
        class="absolute top-3 right-3 text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary">
        <span class="material-symbols-outlined">close</span>
      </button>
      <h3 class="text-2xl font-display text-text-light dark:text-text-dark mb-4">âœ¨ Theme Ideas</h3>

      <!-- Loading Spinner -->
      <div id="theme-modal-loading" class="text-center p-8 hidden">
        <div class="w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"></div>
        <p class="mt-4 font-body text-subtle-text-light dark:text-subtle-text-dark">Generating creative ideas...</p>
      </div>

      <!-- Modal Content Area -->
      <div id="theme-modal-content" class="font-body text-text-light dark:text-text-dark">
        <!-- Gemini results will be injected here -->
      </div>
    </div>
  </div>


  <!-- Main Content Wrapper -->
  <div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden">

    <!-- Section 1: Hero -->
    <section id="hero"
      class="relative flex min-h-screen flex-col items-center justify-center p-6 text-center overflow-hidden bg-brand-cream dark:bg-background-dark">
      <div class="absolute top-0 left-0 p-6 z-20">
        <h2 class="text-xl font-bold font-display text-text-light dark:text-text-dark">BDK</h2>
      </div>

      <div class="absolute inset-0 z-0">
        <div class="absolute inset-0 bg-cover bg-center opacity-15"
          style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuDfTxRN3pMajq2iBCjnNYAAaMZ-MlQkfTmC4eQSeVvH2eekEuFqBRjyK0jOwRIubv-PmeGsvHRSpyZeW8OKtz9zCMtk-X3_qX3KYs4D5WQXtjavOhQzoPC1snNuePGYkthPZLxi6QzjkDsl-_897OE6-s2qiXfzH9Rdb7VxAIbkwYQEhKTUmKs4YZpieatDWpNJC1OOlrVqLphRnIo_pbzb6zi-J31l4_7sphfmBV-xB_SOo4jxJdQayBiEw_ny70cjFYv0iM0nleRZ');">
        </div>
        <div
          class="absolute inset-0 bg-gradient-to-t from-brand-cream dark:from-background-dark via-brand-cream/50 dark:via-background-dark/50 to-transparent">
        </div>
        <div class="absolute -top-1/4 -right-1/4 w-3/4 h-3/4 opacity-40">
          <img alt="Abstract golden ribbons overlay" class="w-full h-full object-contain -rotate-45"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuD5VqC8ot-CE9TAhijf6pyVr12eqw8Jd702REk6F_akhYk2nwItmqeYOZj9miw30lsZnaRBsyFjYtBlul3V7MuWs-SbYOgCs-0nL1fpS9M0XDhiBxhSO2KUQBK8sIl2RatjiAYryFTehgXQG-kaHuVcFaTz276FisEMnyPZUXkxIIyRs6fEYZcGNx7SqwfWf5HeiPH49y0voWfff43wEAW8vs8iYXPBtOsh__M_VRg7NCHveEjVj90w87cfK7B0thvKRB0q9-jwupjR" />
        </div>
        <div class="absolute -bottom-1/4 -left-1/4 w-3/4 h-3/4 opacity-40">
          <img alt="Abstract golden ribbons overlay" class="w-full h-full object-contain rotate-12"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuDdHrgxwxOfoRkO8YKYki7BzhBKZYKYq5bAer_Y57dGzf140AWRzC9lNHphgrA5SSfvXVLy8vJa493ky9hLV__MUBmGaVJrCoU4xpoHLAkNnh772Q4PnsdXh_ZimkmW7YHERy4cbSiDBYVuoEryJ7jSXPGWvR8BTs6beihMT75boNQ6xmtzH27XqIJTFZgQSJtZqm-JAlFt8Tq4nyX44WIRg4k-LmcBXiMB-WQsXdG1e603mPmEnwe3XQQLA1kSbHqecAdZAyLPIeY2" />
        </div>
      </div>
      <div class="relative z-10 flex flex-col gap-4 max-w-3xl px-4">
        <h1 class="text-text-light dark:text-text-dark text-5xl font-display font-semibold leading-tight"
          style="text-shadow: 1px 1px 3px rgba(255, 251, 239, 0.5);">
          Turning Moments into Magical Memories ðŸŽ‰
        </h1>
        <h2
          class="text-subtle-text-light dark:text-subtle-text-dark text-lg font-light leading-relaxed max-w-lg mx-auto font-body">
          From intimate celebrations to grand events â€” we create dÃ©cor that speaks love, joy, and style.
        </h2>
      </div>
      <div class="relative z-10 flex flex-col sm:flex-row flex-wrap gap-4 justify-center mt-8">
        <a href="#booking"
          class="flex min-w-[180px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-14 px-8 bg-gradient-to-br from-[#EAD9B8] to-[#C5A352] text-brand-dark text-base font-semibold uppercase tracking-wider shadow-[0_4px_10px_rgba(0,0,0,0.1),inset_0_1px_2px_rgba(255,255,255,0.4)] transition-all duration-300 ease-in-out hover:shadow-[0_6px_15px_rgba(0,0,0,0.15),inset_0_1px_2px_rgba(255,255,255,0.4)] hover:brightness-105 transform hover:scale-105 active:shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)] active:brightness-95">
          <span class="truncate font-body">Book Your Event</span>
        </a>
        <a href="#gallery"
          class="flex min-w-[180px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-14 px-8 bg-transparent text-text-light dark:text-text-dark text-base font-semibold uppercase tracking-wider border-2 border-[#D6BB81] shadow-[0_2px_6px_rgba(0,0,0,0.05),inset_0_1px_2px_rgba(255,255,255,0.1)] transition-all duration-300 ease-in-out hover:bg-brand-gold/10 hover:border-brand-gold hover:shadow-lg transform hover:scale-105">
          <span class="truncate font-body">View Gallery</span>
        </a>
      </div>
    </section>

    <!-- Section 2: About Us -->
    <section id="about" class="py-16">
      <div class="@container">
        <div class="@[480px]:px-4 @[480px]:py-3 px-4">
          <div
            class="w-full bg-center bg-no-repeat bg-cover flex flex-col justify-end overflow-hidden @[480px]:rounded-xl min-h-80 rounded-xl"
            data-alt="A collage of elegantly decorated events in gold, ivory, and cream, featuring balloon arches, floral arrangements, and festive table settings."
            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBGKxYjy7nL83yMVXJOq52BYSkV01_aNle1keP_7tXmh_6NNblpvLcglZsyq3L8vqDrO2AFrqPxV5Wd-ZOG6VGaqHsD2kr_VhQGaRXUKVK3Vm8B3CW4vGFZUC4Uo4HZA8kummklNOwtBASsnJpT5m0IsGEO50T3MgFGAy2ghPANv9QMUPCJmm-VsWxh3cqu9g9ZMUivxqUkD_kfGQp4Y-P2BsN9Xbm_Ftvrdm8veK6P0yYKuUfO2Dmn87Jqr5LaEIaNmQ7zu2C3U-Vv");'>
          </div>
        </div>
      </div>
      <div class="h-5"></div>
      <h1
        class="text-text-light dark:text-text-dark tracking-tight text-4xl font-bold leading-tight px-4 text-center pb-3 pt-6 font-display">
        Crafting Unforgettable Moments</h1>
      <div class="h-5"></div>
      <p
        class="text-text-light dark:text-text-dark text-base font-normal leading-relaxed pb-3 pt-1 px-4 text-center max-w-2xl mx-auto font-body">
        At Birthday Decoration King, we believe every celebration deserves perfection. Our designs blend creativity,
        empathy, and elegance â€” transforming your special day into a masterpiece.</p>
      <div class="h-5"></div>
      <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 p-4 max-w-4xl mx-auto">
        <div
          class="flex flex-1 gap-3 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4 flex-col items-center text-center h-full">
          <span class="material-symbols-outlined text-text-light dark:text-text-dark text-3xl">celebration</span>
          <div class="flex flex-col gap-1">
            <h2 class="text-text-light dark:text-text-dark text-base font-bold leading-tight font-body">Creativity</h2>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal font-body">
              Unique and inspired designs</p>
          </div>
        </div>
        <div
          class="flex flex-1 gap-3 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4 flex-col items-center text-center h-full">
          <span class="material-symbols-outlined text-text-light dark:text-text-dark text-3xl">auto_awesome</span>
          <div class="flex flex-col gap-1">
            <h2 class="text-text-light dark:text-text-dark text-base font-bold leading-tight font-body">Elegance</h2>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal font-body">
              Sophisticated and timeless decor</p>
          </div>
        </div>
        <div
          class="flex flex-1 gap-3 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4 flex-col items-center text-center h-full">
          <span class="material-symbols-outlined text-text-light dark:text-text-dark text-3xl">edit</span>
          <div class="flex flex-col gap-1">
            <h2 class="text-text-light dark:text-text-dark text-base font-bold leading-tight font-body">Customization
            </h2>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal font-body">
              Tailored to your perfect vision</p>
          </div>
        </div>
        <div
          class="flex flex-1 gap-3 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-4 flex-col items-center text-center h-full">
          <span class="material-symbols-outlined text-text-light dark:text-text-dark text-3xl">visibility</span>
          <div class="flex flex-col gap-1">
            <h2 class="text-text-light dark:text-text-dark text-base font-bold leading-tight font-body">Attention to
              Detail</h2>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal font-body">
              Meticulously planned execution</p>
          </div>
        </div>
      </div>
      <div class="h-5"></div>
      <div class="flex px-4 py-3 max-w-xs mx-auto">
        <a href="#gallery"
          class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-primary text-background-light dark:text-background-dark text-base font-bold leading-normal tracking-[0.015em] font-body hover:opacity-90 transition-opacity">
          <span class="truncate">Explore Our Creations</span>
        </a>
      </div>
    </section>

    <!-- Section 3: Services -->
    <section id="services" class="py-16 px-4 container mx-auto">
      <div class="text-center mb-12">
        <span class="bg-primary/10 text-primary text-sm rounded-full px-4 py-2 inline-block mb-4 font-body">ðŸš€ Discover
          what we offer</span>
        <h1 class="font-display text-text-light dark:text-text-dark tracking-tight text-4xl font-bold leading-tight">Our
          Signature Services</h1>
      </div>

      <div>
        <div class="relative mb-6">
          <button id="prev-service"
            class="carousel-button absolute left-0 top-1/2 -translate-y-1/2 -ml-4 lg:-ml-6 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="material-symbols-outlined text-text-light dark:text-text-dark">chevron_left</span>
          </button>
          <div id="carousel-viewport" class="overflow-hidden mx-8 lg:mx-10">
            <div id="carousel-track-1" class="flex gap-4 mb-4">
              <!-- Service cards (row 1) dynamically added -->
            </div>
            <div id="carousel-track-2" class="flex gap-4">
              <!-- Service cards (row 2) dynamically added -->
            </div>
          </div>
          <button id="next-service"
            class="carousel-button absolute right-0 top-1/2 -translate-y-1/2 -mr-4 lg:-mr-6 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="material-symbols-outlined text-text-light dark:text-text-dark">chevron_right</span>
          </button>
        </div>

        <div
          class="w-full flex flex-col items-center justify-center gap-3 rounded-xl border border-accent-gold/20 bg-card-light dark:bg-card-dark p-6 text-center transition-shadow duration-300 hover:shadow-lg dark:hover:shadow-accent-gold/10 mt-8">
          <div class="flex items-center justify-center w-14 h-14 rounded-full bg-accent-gold/10">
            <span class="material-symbols-outlined text-accent-gold text-3xl">auto_awesome</span>
          </div>
          <p class="text-base font-semibold leading-tight text-text-light dark:text-text-dark font-body">Custom Theme
            Design</p>
          <p class="text-sm font-normal leading-snug text-subtle-text-light dark:text-subtle-text-dark font-body">Your
            unique vision, brought to life.</p>
        </div>
      </div>

      <div class="flex px-4 py-6 max-w-sm mx-auto mt-12">
        <a href="#booking"
          class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-14 px-5 flex-1 bg-accent-gold text-white text-base font-semibold leading-normal tracking-[0.015em] w-full shadow-lg shadow-accent-gold/30 transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]">
          <span class="truncate font-body">Start Planning Your Event</span>
        </a>
      </div>
    </section>


    <!-- Section 4: Gallery -->
    <section id="gallery" class="py-16">
      <div class="text-center">
        <h1 class="text-2xl font-bold tracking-tight text-primary font-display">Our Creations</h1>
        <p class="text-xs text-subtle-text-light font-body">Gallery of Golden Moments</p>
      </div>
      <main class="container mx-auto p-4">
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 1" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipO8g9P_3DpRhKgcWcqEpzwr6CJK6La2myIHkwOX" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 2" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipNt7_SdzhVN2mW6F377Knuu9FwC677EeWlvteKV" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 3" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipOhOBbER3-_uv-oDs9SpfjOf1iP6krWIDGnyoCe" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 4" onclick="openLightbox(this)"
              src="https://streetviewpixels-pa.googleapis.com/v1/thumbnail?panoid=1AIXXo1jkz2r-MIIS6MkTQ&cb_client=search.gws-prod.gps&w=496&h=440&yaw=229.63147&pitch=0&thumbfov=100" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 5" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipMSHwPOfsfX8KSay7pDpS9LTPRIfLZi9_afoUdi" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 6" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipN7e3CR-Y15iKa7cL6Bja4DlFYSmb-F0YJTM4a_" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 7" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipM2W3QQRK5pOF6wCRPwDZYZmRDxCw_TOgjA5yYw" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 8" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipN8SL8ns81-z0jTC-rVgL_gHnzlQkZ28JKK-YBK" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 9" onclick="openLightbox(this)"
              src="https://streetviewpixels-pa.googleapis.com/v1/thumbnail?panoid=1AIXXo1jkz2r-MIIS6MkTQ&cb_client=maps_sv.tactile.gps&w=496&h=440&yaw=229.63147&pitch=0&thumbfov=100" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Gallery image 10" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/p/AF1QipPfgjAagKVK4dZFRh0jp94CEfSBWtBTAlIh5Jf2" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Pastel balloon arch" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/aida-public/AB6AXuBeYlVKOBDh-x7h7SBkNDnRXVPin7RXWdwVmWEq4nfIrFNCwNxRQWUmVUWEo6ibJS58xWUYC6NsbPj_hVOwo473meOOZunnxRREjtPBfQOuBHsdy3E2kniBIMnOMZalPRMqKK5kICoEXeGJr4GjxYU3aOcteMB_-GsKlVDbSF0_5EuKzS9ZPRJY4Oc282N2sSRdKPSDbeSMXck971CAdnpvPt2xcwaMpPPEyA-PJ586NRKrawWlHhWFfo8D2q70uAtGgOuOW75ZzO9a" />
          </div>
          <div class="mb-4 aspect-square">
            <img class="w-full h-full rounded-xl object-cover cursor-pointer hover:opacity-90 transition-opacity"
              alt="Hot air balloon theme setup" onclick="openLightbox(this)"
              src="https://lh3.googleusercontent.com/aida-public/AB6AXuCKjxIgyHwwD31RhAEyC-ooeOW5Pp3ftPlO8WoQ2aB6z_l0FNTBRZnJdVqbj3nEf_H_VN5ubX5-N4x6NikS8VxBfVRr7wnT2dOOgptej-Furi42EIOX6Xhw3obNpovHE-nABd4-gka9Dmj5IsJUW7Xpto1RzSMts_jDwoNzZkM1dbMh2zYZihu-mynKKExVaJDPmCtK3j9HaNaABiURM67bdrv64s9rODEW_XaNJTRY2mGkC6we0EgmdPtTOt1qdmpnZFL928ZpIynw" />
          </div>
        </div>
      </main>
    </section>

    <!-- Section 5: Testimonials & Success -->
    <section id="testimonials" class="py-16 bg-brand-ivory dark:bg-background-dark"> <!-- Combined section wrapper -->
      <div class="container mx-auto px-4">
        <!-- Testimonial Summary -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8 items-center mb-12">
          <div class="xl:col-span-1 text-center xl:text-left">
            <h3 class="text-3xl font-bold font-display text-text-light dark:text-text-dark mb-4">Why customers love BDK
            </h3>
            <p class="text-lg text-subtle-text-light dark:text-subtle-text-dark mb-2 font-body">
              86+ Users rated us <span class="text-accent font-bold">4.7</span> out of 5.
            </p>
            <div class="flex justify-center xl:justify-start -space-x-2 overflow-hidden p-2">
              <img class="inline-block h-10 w-10 rounded-full ring-2 ring-white dark:ring-card-dark"
                src="https://lh3.googleusercontent.com/a-/ALV-UjXEKYcJnl3nHjibNi-OFPLWgzMJiLKChrsxagd2D-vw7aB_mZU4=s120-c-rp-mo-br100"
                alt="User avatar">
              <img class="inline-block h-10 w-10 rounded-full ring-2 ring-white dark:ring-card-dark"
                src="https://lh3.googleusercontent.com/a-/ALV-UjXtuWTpuPJn1UgnsKbq2lKUMMAaN6svV5t_o8j8ACJWU5S1mG8h=s120-c-rp-mo-br100"
                alt="User avatar">
              <img class="inline-block h-10 w-10 rounded-full ring-2 ring-white dark:ring-card-dark"
                src="https://lh3.googleusercontent.com/a-/ALV-UjXfHhB_DR4-z_P30lsFfHKlFPmni0ZHS28dUc7NkQlyflSwtzYo=s120-c-rp-mo-br100"
                alt="User avatar">
              <img class="inline-block h-10 w-10 rounded-full ring-2 ring-white dark:ring-card-dark"
                src="https://lh3.googleusercontent.com/a/ACg8ocLnyY15jGipAhexlkSfY6G7G_-A_8cu9G00M4TYgE2KXlar2Q=s120-c-rp-mo-br100"
                alt="User avatar">
              <img class="inline-block h-10 w-10 rounded-full ring-2 ring-white dark:ring-card-dark"
                src="https://lh3.googleusercontent.com/a-/ALV-UjWX4ZuLLUrpA21IHOZc2g3tMWLv2SNdhzpBXpoSxJKhPQVxV9mO=s120-c-rp-mo-br100"
                alt="User avatar">
              <span
                class="inline-flex items-center justify-center h-10 w-10 rounded-full bg-gray-200 dark:bg-card-dark ring-2 ring-white dark:ring-card-dark text-xs font-medium text-gray-500 dark:text-gray-300 font-body">+81</span>
            </div>
          </div>
          <!-- Testimonial Carousel -->
          <div class="xl:col-span-2 relative">
            <button id="prev-testimonial"
              class="carousel-button absolute left-0 top-1/2 -translate-y-1/2 -ml-4 lg:-ml-10 disabled:opacity-50 disabled:cursor-not-allowed z-10">
              <span class="material-symbols-outlined text-text-light dark:text-text-dark">chevron_left</span>
            </button>
            <div id="testimonial-carousel-viewport" class="overflow-hidden mx-4 lg:mx-6">
              <div id="testimonial-carousel-track" class="flex gap-4">
                <!-- Testimonial cards dynamically added -->
              </div>
            </div>
            <button id="next-testimonial"
              class="carousel-button absolute right-0 top-1/2 -translate-y-1/2 -mr-4 lg:-mr-10 disabled:opacity-50 disabled:cursor-not-allowed z-10">
              <span class="material-symbols-outlined text-text-light dark:text-text-dark">chevron_right</span>
            </button>
          </div>
        </div>

        <!-- "Success in Numbers" Section - Now part of Testimonials -->
        <div id="success-numbers" class="pt-10"> <!-- Removed bg and py-16, added pt-10 -->
          <div class="container mx-auto px-4">
            <div class="text-center mb-12">
              <span class="bg-primary/10 text-primary text-sm rounded-full px-4 py-2 inline-block mb-4 font-body">ðŸŒŸ
                Trusted by our customers</span>
              <h2 class="text-4xl font-bold font-display text-text-light dark:text-text-dark">Proven Success in Numbers
              </h2>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-4xl mx-auto">
              <div
                class="bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark text-center rounded-xl p-6 py-8 transition-shadow hover:shadow-lg hover:border-primary/50">
                <div class="flex justify-center items-baseline mb-2">
                  <h4 class="text-4xl font-bold text-text-light dark:text-text-dark mr-1 font-display">119</h4>
                  <span class="text-3xl text-primary font-semibold font-display">+</span>
                </div>
                <p class="text-base font-semibold text-subtle-text-light dark:text-subtle-text-dark mb-0 font-body">
                  Services Offered</p>
              </div>
              <div
                class="bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark text-center rounded-xl p-6 py-8 transition-shadow hover:shadow-lg hover:border-primary/50">
                <div class="flex justify-center items-center mb-2">
                  <h4 class="text-4xl font-bold text-text-light dark:text-text-dark mr-1 font-display">4.70</h4>
                  <span class="material-symbols-outlined text-accent text-3xl">star</span>
                </div>
                <p class="text-base font-semibold text-subtle-text-light dark:text-subtle-text-dark mb-0 font-body">86
                  Customer Reviews</p>
              </div>
              <div
                class="sm:col-span-2 lg:col-span-1 bg-card-light dark:bg-card-dark border border-border-light dark:border-border-dark text-center rounded-xl p-6 py-8 transition-shadow hover:shadow-lg hover:border-primary/50">
                <div class="flex justify-center items-baseline mb-2">
                  <h4 class="text-4xl font-bold text-text-light dark:text-text-dark mr-1 font-display">2700</h4>
                  <span class="text-3xl text-primary font-semibold font-display">+</span>
                </div>
                <p class="text-base font-semibold text-subtle-text-light dark:text-subtle-text-dark mb-0 font-body">
                  Happy Customers</p>
              </div>
            </div>
          </div>
        </div>

        <!-- "Plan Your Dream Event" Button -->
        <div class="flex flex-col items-center gap-6 pt-12 pb-8">
          <h2
            class="text-text-light dark:text-text-dark tracking-tight text-3xl font-display font-semibold leading-tight px-4 text-center">
            Ready to Create Your Own Memory?</h2>
          <p class="text-subtle-text-light dark:text-subtle-text-dark text-center max-w-md font-body">Let us bring your
            dream event to life with our passion for perfection and creative flair. Contact us today to start planning.
          </p>
          <a href="#booking"
            class="flex items-center justify-center gap-2 px-8 py-4 bg-gold text-white font-semibold rounded-full shadow-lg shadow-gold/30 hover:bg-gold-dark transition-all transform hover:scale-105 font-body">
            <span>Plan Your Dream Event</span>
            <span class="material-symbols-outlined">arrow_forward</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Section 6: Booking -->
    <section id="booking"
      class="w-full flex-1 px-4 sm:px-6 py-16 bg-gradient-to-br from-[#FFF8E7] via-[#FFFDF5] to-[#FDF5E6] dark:from-background-dark dark:to-black">
      <div class="mx-auto flex max-w-5xl flex-col lg:flex-row lg:items-center lg:gap-12">
        <div class="flex-1 lg:order-2">
          <div
            class="aspect-square w-full overflow-hidden rounded-xl shadow-lg @container sm:aspect-[4/3] lg:aspect-square">
            <div class="h-full w-full bg-cover bg-center bg-no-repeat"
              data-alt="A beautifully decorated baby shower with pastel balloon garlands and an elegant dessert table."
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDWtVg1N5hU2yw8M67XR1XkcoeyuJOZ0cI9RUqHgoF_okI-k-jr8XE905UrGbh9iznXk5eSzyhL7pzioOj8fC6O-m_BvKubFLfbNanKIQp6lHF2V8GEuVaaououyGLMtEuIiXt9gU5-T5SJkYHUClt2R1rx65mChsV0Y54STDGMNpXfQMXqaLC6lHRaTNouVrRPluod5In_uOpkeOoOTWe3Igjh3DIaFk8sHG2rqNhkAzejVYB8ST7qIHw-fNrXXOBsNQeYGW1DsQtQ");'>
            </div>
          </div>
        </div>
        <div class="w-full flex-1 py-8 lg:order-1 lg:py-12">
          <div class="flex flex-col gap-2">
            <div class="flex items-center gap-4">
              <div class="h-0.5 flex-1 rounded-full bg-text-light/10 dark:bg-text-dark/20">
                <div class="h-full w-1/4 rounded-full bg-primary"></div>
              </div>
              <span class="text-sm font-medium text-text-light/70 dark:text-text-dark/70 font-body">Step 1 of 4</span>
            </div>
            <h1
              class="font-display text-[32px] font-bold leading-tight tracking-tight text-text-light dark:text-text-dark md:text-4xl">
              Let's Plan Your Dream Event</h1>
          </div>
          <!-- Updated Form with Gemini Feature -->
          <form class="mt-8 flex flex-col gap-4">
            <label class="flex flex-col">
              <p class="pb-2 text-base font-medium leading-normal text-text-light dark:text-text-dark font-body">Full
                Name</p>
              <input
                class="form-input h-14 w-full flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-card-light/50 p-4 text-base font-normal leading-normal text-text-light placeholder-text-light/50 focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 dark:border-border-dark dark:bg-card-dark/50 dark:text-text-dark dark:placeholder:text-text-dark/50 font-body"
                placeholder="Enter your full name" type="text" />
            </label>

            <label class="flex flex-col">
              <p class="pb-2 text-base font-medium leading-normal text-text-light dark:text-text-dark font-body">Event
                Type</p>
              <div class="relative">
                <!-- Added ID to select -->
                <select id="event-type-select"
                  class="form-input h-14 w-full flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-card-light/50 p-4 pr-10 text-base font-normal leading-normal text-text-light focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 dark:border-border-dark dark:bg-card-dark/50 dark:text-text-dark font-body">
                  <option>Birthday</option>
                  <option>Baby Shower</option>
                  <option>Anniversary</option>
                  <option>Corporate Event</option>
                  <option>Wedding Function (Haldi, Mehndi)</option>
                  <option>Customized Event</option>
                </select>
                <span
                  class="material-symbols-outlined pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-text-light dark:text-text-dark">expand_more</span>
              </div>
            </label>

            <!-- Gemini AI Button -->
            <button type="button" id="generate-themes-btn"
              class="mt-2 flex h-12 w-full items-center justify-center rounded-lg bg-primary/10 text-primary border border-primary/30 text-base font-bold shadow-[0_4px_14px_0_rgb(0,0,0,5%)] transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg active:scale-[0.98] font-body">
              <span class="mr-2">âœ¨</span>
              Get Theme Ideas
            </button>

            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <label class="flex flex-col">
                <p class="pb-2 text-base font-medium leading-normal text-text-light dark:text-text-dark font-body">Event
                  Date</p>
                <div class="relative">
                  <input
                    class="form-input h-14 w-full flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-card-light/50 p-4 pr-12 text-base font-normal leading-normal text-text-light placeholder-text-light/50 focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 dark:border-border-dark dark:bg-card-dark/50 dark:text-text-dark dark:placeholder:text-text-dark/50 font-body"
                    placeholder="Select a date" type="date" />
                  <span
                    class="material-symbols-outlined pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-text-light dark:text-text-dark">calendar_today</span>
                </div>
              </label>
              <label class="flex flex-col">
                <p class="pb-2 text-base font-medium leading-normal text-text-light dark:text-text-dark font-body">
                  Location</p>
                <!-- Added ID to location input -->
                <input id="event-location-input"
                  class="form-input h-14 w-full flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-card-light/50 p-4 text-base font-normal leading-normal text-text-light placeholder-text-light/50 focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 dark:border-border-dark dark:bg-card-dark/50 dark:text-text-dark dark:placeholder:text-text-dark/50 font-body"
                  placeholder="e.g., City, State" type="text" />
              </label>
            </div>

            <!-- New Theme Text Area -->
            <label class="flex flex-col">
              <p class="pb-2 text-base font-medium leading-normal text-text-light dark:text-text-dark font-body">Event
                Theme</p>
              <textarea id="event-theme-input"
                class="form-input h-24 w-full flex-1 resize-none overflow-hidden rounded-lg border border-border-light bg-card-light/50 p-4 text-base font-normal leading-normal text-text-light placeholder-text-light/50 focus:border-primary focus:outline-0 focus:ring-2 focus:ring-primary/50 dark:border-border-dark dark:bg-card-dark/50 dark:text-text-dark dark:placeholder:text-text-dark/50 font-body"
                placeholder="Describe your vision or select a theme..."></textarea>
            </label>

            <button
              class="mt-4 flex h-14 w-full items-center justify-center rounded-lg bg-primary text-base font-bold text-white shadow-[0_4px_14px_0_rgb(0,0,0,10%)] transition-transform duration-200 ease-in-out hover:scale-[1.02] hover:shadow-[0_6px_20px_0_rgb(0,0,0,13%)] active:scale-[0.98] dark:text-background-dark font-body">Check
              Availability</button>
            <p class="text-center text-sm text-text-light/70 dark:text-text-dark/70 font-body">We'll get back to you
              within 24 hours.</p>
          </form>
        </div>
      </div>
    </section>

    <!-- Section 7: FAQ -->
    <section id="faq" class="py-16">
      <h2
        class="text-text-light dark:text-text-dark text-3xl font-bold leading-tight tracking-[-0.015em] flex-1 text-center font-display">
        Frequently Asked Questions</h2>
      <div class="px-4 py-3 max-w-2xl mx-auto">
        <label class="flex flex-col min-w-40 h-12 w-full">
          <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
            <div
              class="text-subtle-text-light dark:text-subtle-text-dark flex border-none bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark items-center justify-center pl-4 rounded-l-lg border-r-0">
              <span class="material-symbols-outlined text-2xl">search</span>
            </div>
            <input
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark focus:border-primary/50 h-full placeholder:text-subtle-text-light dark:placeholder:text-subtle-text-dark px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal font-body"
              placeholder="Search for a question..." value="" />
          </div>
        </label>
      </div>

      <div class="flex flex-col p-4 pt-0 max-w-2xl mx-auto">
        <details class="flex flex-col border-t border-t-border-light dark:border-t-border-dark py-2 group" open="">
          <summary class="flex cursor-pointer items-center justify-between gap-6 py-3 list-none">
            <p class="text-text-light dark:text-text-dark text-base font-semibold leading-normal font-body">What types
              of events do you decorate?</p>
            <div class="text-text-light dark:text-text-dark group-open:rotate-180 transition-transform">
              <span class="material-symbols-outlined text-2xl">expand_more</span>
            </div>
          </summary>
          <p
            class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-relaxed pb-2 font-body">
            We specialize in a wide range of premium events, including birthday parties, baby showers, anniversary
            celebrations, and corporate gatherings. We also offer fully customized dÃ©cor experiences tailored to your
            unique vision.</p>
        </details>
        <details class="flex flex-col border-t border-t-border-light dark:border-t-border-dark py-2 group">
          <summary class="flex cursor-pointer items-center justify-between gap-6 py-3 list-none">
            <p class="text-text-light dark:text-text-dark text-base font-semibold leading-normal font-body">How does the
              booking process work?</p>
            <div class="text-text-light dark:text-text-dark group-open:rotate-180 transition-transform">
              <span class="material-symbols-outlined text-2xl">expand_more</span>
            </div>
          </summary>
          <p
            class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-relaxed pb-2 font-body">
            Our booking process is simple. Start with an initial consultation to discuss your vision, receive a
            customized proposal, and then secure your date with a deposit. We handle all the details from there!</p>
        </details>
        <details class="flex flex-col border-t border-t-border-light dark:border-t-border-dark py-2 group">
          <summary class="flex cursor-pointer items-center justify-between gap-6 py-3 list-none">
            <p class="text-text-light dark:text-text-dark text-base font-semibold leading-normal font-body">What are
              your pricing and payment options?</p>
            <div class="text-text-light dark:text-text-dark group-open:rotate-180 transition-transform">
              <span class="material-symbols-outlined text-2xl">expand_more</span>
            </div>
          </summary>
          <p
            class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-relaxed pb-2 font-body">
            Pricing varies based on the scale and complexity of your event. We offer transparent package pricing and
            custom quotes. We accept various payment methods, with a deposit required to secure your booking.</p>
        </details>
        <details class="flex flex-col border-t border-t-border-light dark:border-t-border-dark py-2 group">
          <summary class="flex cursor-pointer items-center justify-between gap-6 py-3 list-none">
            <p class="text-text-light dark:text-text-dark text-base font-semibold leading-normal font-body">Can you
              customize decorations to a specific theme?</p>
            <div class="text-text-light dark:text-text-dark group-open:rotate-180 transition-transform">
              <span class="material-symbols-outlined text-2xl">expand_more</span>
            </div>
          </summary>
          <p
            class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-relaxed pb-2 font-body">
            Absolutely! Customization is our specialty. Whether you have a specific theme in mind or need help creating
            one, our designers will work with you to bring your dream event to life with unique, personalized decor.</p>
        </details>
        <details
          class="flex flex-col border-t border-t-border-light dark:border-t-border-dark border-b border-b-border-light dark:border-b-border-dark py-2 group">
          <summary class="flex cursor-pointer items-center justify-between gap-6 py-3 list-none">
            <p class="text-text-light dark:text-text-dark text-base font-semibold leading-normal font-body">What is
              included in the event day setup?</p>
            <div class="text-text-light dark:text-text-dark group-open:rotate-180 transition-transform">
              <span class="material-symbols-outlined text-2xl">expand_more</span>
            </div>
          </summary>
          <p
            class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-relaxed pb-2 font-body">
            Our service is full-range. We handle delivery, complete setup of all decorations before your guests arrive,
            and takedown after the event concludes, ensuring a seamless and stress-free experience for you.</p>
        </details>
      </div>

      <div class="p-4 pt-8 pb-6 @container max-w-2xl mx-auto">
        <div
          class="flex flex-1 flex-col items-start justify-between gap-4 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-5 @[480px]:flex-row @[480px]:items-center">
          <div class="flex flex-col gap-1">
            <p class="text-text-light dark:text-text-dark text-base font-bold leading-tight font-body">Still have
              questions?</p>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-normal leading-normal font-body">
              Our team is here to help with any inquiries.</p>
          </div>
          <button
            class="flex w-full @[480px]:w-auto min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-background-light dark:text-background-dark text-sm font-medium leading-normal shadow-sm hover:opacity-90 transition-opacity font-body">
            <span class="truncate">Contact Our Team</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="p-4 sm:p-6 py-10 bg-brand-cream dark:bg-background-dark">
      <div class="container mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <a href="#hero" class="inline-block mb-4">
              <h2 class="text-2xl font-bold font-display text-text-light dark:text-text-dark">BDK</h2>
            </a>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-sm font-body">
              Welcome to BirthdayDecoration King, the reigning expert in event planning services located in East Delhi,
              Delhi! ðŸ‘‘âœ¨ With our unparalleled expertise and passion...
            </p>
          </div>
          <div>
            <h6 class="text-lg font-semibold text-text-light dark:text-text-dark mb-4 font-display">Quick links</h6>
            <ul class="space-y-2">
              <li><a href="#hero"
                  class="text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary transition-colors text-sm font-body">Home</a>
              </li>
              <li><a href="#services"
                  class="text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary transition-colors text-sm font-body">Services</a>
              </li>
              <li><a href="#about"
                  class="text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary transition-colors text-sm font-body">About</a>
              </li>
              <li><a href="#booking"
                  class="text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary transition-colors text-sm font-body">Contact</a>
              </li>
              <li><a href="#"
                  class="text-subtle-text-light dark:text-subtle-text-dark hover:text-primary dark:hover:text-primary transition-colors text-sm font-body">Privacy
                  Policy</a></li>
            </ul>
          </div>
          <div>
            <h6 class="text-lg font-semibold text-text-light dark:text-text-dark mb-4 font-display">Contact us</h6>
            <ul class="space-y-3">
              <li class="flex items-center text-sm text-subtle-text-light dark:text-subtle-text-dark font-body">
                <span class="material-symbols-outlined text-lg mr-2 text-primary">call</span>
                <a href="tel:+919355284041"
                  class="hover:text-primary dark:hover:text-primary transition-colors">+919355284041</a>
              </li>
            </ul>
            <div class="flex space-x-4 mt-6">
              <a href="#" aria-label="Instagram"
                class="text-text-light dark:text-text-dark hover:text-primary dark:hover:text-primary transition-colors"><svg
                  class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M12 2.163c3.204 0 3.584.012 4.85.07 1.172.053 1.902.218 2.45.42c.586.23 1.02.52 1.484.984c.464.464.754.9.984 1.484c.202.548.368 1.278.42 2.45c.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.053 1.172-.218 1.902-.42 2.45c-.23.586-.52 1.02-.984 1.484c-.464.464-.9.754-1.484.984c-.548.202-1.278.368-2.45.42c-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.172-.053-1.902-.218-2.45-.42c-.586-.23-1.02-.52-1.484-.984c-.464-.464-.754-.9-.984-1.484c-.202-.548-.368-1.278-.42-2.45c-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.053-1.172.218-1.902.42-2.45c.23-.586.52-1.02.984-1.484c.464-.464.9-.754 1.484-.984c.548-.202 1.278.368 2.45.42C8.416 2.175 8.796 2.163 12 2.163m0-2.163A14.977 14.977 0 0 0 7.05 0C5.786.052 4.043.21 2.86.66c-1.157.436-1.93 1.002-2.7 1.77C.43 3.156 0 4.14 0 5.4c0 1.258.052 2.99.07 4.85C.012 11.97 0 12.35 0 12s.012.03.07 4.85c.052 1.86.21 3.593.66 4.757c.436 1.157 1.002 1.93 1.77 2.7c.764.766 1.743 1.33 3.002 1.77c1.258.448 2.99.608 4.85.66C10.03 23.988 10.35 24 12 24s1.97.012 4.85-.07c1.86-.052 3.593-.21 4.757-.66c1.157-.436 1.93-1.002 2.7-1.77c.766-.764 1.33-1.743 1.77-3.002c.448-1.258.608-2.99.66-4.85c.058-1.81.07-2.19.07-4.85s-.012-3.04-.07-4.85c-.052-1.86-.21-3.593-.66-4.757c-.436-1.157-1.002-1.93-1.77-2.7c-.764-.766-1.743-1.33-3.002-1.77C19.593.21 17.86.052 16.95 0C15.584.012 15.204 0 12 0Z"
                    clip-rule="evenodd" />
                  <path
                    d="M12 5.838a6.162 6.162 0 1 0 0 12.324a6.162 6.162 0 0 0 0-12.324M12 16a4 4 0 1 1 0-8a4 4 0 0 1 0 8" />
                  <path d="M18.402 5.598a1.44 1.44 0 1 1 2.88 0a1.44 1.44 0 0 1-2.88 0" />
                </svg></a>
              <a href="#" aria-label="Facebook"
                class="text-text-light dark:text-text-dark hover:text-primary dark:hover:text-primary transition-colors"><svg
                  class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89c1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.772-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12Z"
                    clip-rule="evenodd" />
                </svg></a>
              <a href="#" aria-label="WhatsApp"
                class="text-text-light dark:text-text-dark hover:text-primary dark:hover:text-primary transition-colors"><svg
                  class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M18.4 5.623c-2.446-2.446-5.64-3.79-9.157-3.79C3.782 1.833 0 5.615 0 11.078c0 1.82.468 3.55.132 5.212L0 22.167l5.96-1.55c1.583.78 3.32 1.196 5.097 1.196h.004c5.46 0 9.242-4.14 9.242-9.603c0-3.518-1.344-6.712-3.79-9.157m-9.157 18.25c-1.6 0-3.138-.41-4.503-1.15L2.568 21.97l1.208-4.32c-.8-1.42-1.22-3.02-1.22-4.68c0-4.34 3.12-7.85 6.96-7.85c1.88 0 3.68.73 5.01 2.06c1.33 1.33 2.06 3.13 2.06 5.01c0 4.34-3.51 7.4-7.85 7.4m5.21-6.13c-.28-.14-1.65-.81-1.9-.9c-.25-.1-4.31-.04-4.38.38c-.07.42.36 1.03.49 1.18c.13.15.26.33.02.58c-.24.25-1.02.9-1.93 1.72c-1.1.96-1.84 1.03-2.18.9c-.34-.13-1.43-.53-2.73-1.67c-1.02-.88-1.7-1.97-1.9-2.31c-.2-.34-.02-.53.12-.67c.13-.13.28-.34.42-.51c.14-.17.18-.28.28-.47c.09-.19.04-.36-.02-.5c-.06-.14-.55-1.34-.76-1.83c-.2-.5-.4-.43-.54-.43c-.13 0-.28-.02-.43-.02c-.15 0-.39.06-.59.3c-.2.24-.76.75-.76 1.83c0 1.08.78 2.12.89 2.27c.11.15 1.54 2.4 3.74 3.3c.53.22 1 .36 1.34.46c.6.17 1.15.15 1.58.09c.48-.07 1.48-.6 1.69-1.18c.2-.58.2-1.08.14-1.18c-.06-.1-.13-.15-.28-.24"
                    clip-rule="evenodd" />
                </svg></a>
            </div>
          </div>
        </div>
        <hr class="border-border-light dark:border-border-dark my-6">
        <div class="text-center text-xs text-subtle-text-light dark:text-subtle-text-dark font-body">
          Â© 2024 Birthday Decoration King. All rights reserved. Built by Suraj Kumar.
        </div>
      </div>
    </footer>

  </div>

  <!-- Bottom Navigation Bar -->
  <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 h-16 bg-white/90 dark:bg-card-dark/90 backdrop-blur-sm shadow-[0_-2px_10px_rgba(0,0,0,0.05)]
              flex justify-around items-center z-40
              md:hidden
              opacity-0 translate-y-full transition-all duration-300 ease-in-out">
    <a href="#hero"
      class="nav-link flex flex-col items-center justify-center text-subtle-text-light dark:text-subtle-text-dark transition-all duration-200 nav-link-active"
      data-section="hero">
      <span class="material-symbols-outlined">home</span>
      <span class="text-xs font-medium font-body">Home</span>
    </a>
    <a href="#services"
      class="nav-link flex flex-col items-center justify-center text-subtle-text-light dark:text-subtle-text-dark transition-all duration-200"
      data-section="services">
      <span class="material-symbols-outlined">auto_awesome</span>
      <span class="text-xs font-medium font-body">Services</span>
    </a>
    <a href="#gallery"
      class="nav-link flex flex-col items-center justify-center text-subtle-text-light dark:text-subtle-text-dark transition-all duration-200"
      data-section="gallery">
      <span class="material-symbols-outlined">photo_library</span>
      <span class="text-xs font-medium font-body">Gallery</span>
    </a>
    <a href="#booking"
      class="nav-link flex flex-col items-center justify-center text-subtle-text-light dark:text-subtle-text-dark transition-all duration-200"
      data-section="booking">
      <span class="material-symbols-outlined">edit_calendar</span>
      <span class="text-xs font-medium font-body">Book</span>
    </a>
    <a href="#faq"
      class="nav-link flex flex-col items-center justify-center text-subtle-text-light dark:text-subtle-text-dark transition-all duration-200"
      data-section="faq">
      <span class="material-symbols-outlined">help_outline</span>
      <span class="text-xs font-medium font-body">FAQ</span>
    </a>
  </nav>

  <!-- Lightbox Script -->
  <script>
    function openLightbox(element) {
      document.getElementById('lightbox-img').src = element.src;
      document.getElementById('lightbox').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
      document.getElementById('lightbox').classList.add('hidden');
      document.body.style.overflow = 'auto';
    }
  </script>

  <!-- Navigation & Carousel Script -->
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      const bottomNav = document.getElementById('bottom-nav');
      const heroSection = document.getElementById('hero');
      const navLinks = document.querySelectorAll('.nav-link');
      const sections = document.querySelectorAll('section');

      // --- Animation on Scroll Observer ---
      // Define ONE observer for all animations
      const animationObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            animationObserver.unobserve(entry.target); // Unobserve after animating once
          }
        });
      }, { threshold: 0.15 });

      // Observe "Success in Numbers"
      document.querySelectorAll('#success-numbers .grid > div').forEach((el) => {
        el.classList.add('animate-on-scroll'); // Add class for observer
        animationObserver.observe(el);
      });

      // Show/Hide bottom nav based on scroll
      const navObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            bottomNav.classList.add('opacity-0', 'translate-y-full');
            navLinks.forEach(link => link.classList.remove('nav-link-active'));
            const heroLink = document.querySelector('.nav-link[data-section="hero"]');
            if (heroLink) heroLink.classList.add('nav-link-active');
          } else {
            bottomNav.classList.remove('opacity-0', 'translate-y-full');
          }
        });
      }, { threshold: 0.1 });

      if (heroSection) navObserver.observe(heroSection);

      // Active link highlighting for other sections
      const activeLinkObserver = new IntersectionObserver((entries) => {
        let isHeroVisible = false;
        const heroElem = document.querySelector('#hero');
        if (heroElem) {
          const heroRect = heroElem.getBoundingClientRect();
          isHeroVisible = heroRect.top < window.innerHeight && heroRect.bottom >= 0;
        }

        if (isHeroVisible) return;

        let intersectingSectionId = null;
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            intersectingSectionId = entry.target.id;
          }
        });

        if (intersectingSectionId) {
          navLinks.forEach(link => {
            link.classList.remove('nav-link-active');
            if (link.dataset.section === intersectingSectionId) {
              link.classList.add('nav-link-active');
            }
          });
        }

      }, { rootMargin: '-40% 0px -60% 0px', threshold: 0 });

      sections.forEach(section => {
        if (section.id !== 'hero') {
          activeLinkObserver.observe(section);
        }
      });

      // Smooth scroll for internal links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            const offsetTop = targetElement.getBoundingClientRect().top + window.pageYOffset - 20;
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });

            navLinks.forEach(link => link.classList.remove('nav-link-active'));
            const correspondingNavLink = document.querySelector(`.nav-link[data-section="${targetId.substring(1)}"]`);
            if (correspondingNavLink) {
              correspondingNavLink.classList.add('nav-link-active');
            }
            if (targetId === '#hero') {
              bottomNav.classList.add('opacity-0', 'translate-y-full');
            } else if (heroSection && heroSection.getBoundingClientRect().top < 0) {
              bottomNav.classList.remove('opacity-0', 'translate-y-full');
            }
          }
        });
      });

      // --- Service Carousel Logic ---
      const serviceIconMap = {
        "Corporate and conference": "business_center", "Anniversary party planning": "cake",
        "Baby shower planning": "child_friendly", "Bar and bat mitzvah planning": "star",
        "Birthday party planning": "cake", "Children's party planning": "child_care",
        "Conference coordination": "groups", "Conference planning": "event_note",
        "Corporate events": "work", "Decorations": "palette",
        "Event decor design": "design_services", "Event decor rental": "storefront",
        "Event staffing": "support_agent", "Outdoor event planning": "deck",
        "Party planning": "celebration", "Private event planning": "lock",
        "Quinceanera": "cake", "Religious event": "church",
        "Religious event planning": "church", "Retirement party planning": "elderly",
        "School event": "school", "Team building event coordination": "diversity_3",
        "Team building event planning": "handshake", "Theme parties": "theater_comedy",
        "Theme party": "theater_comedy", "Balloon decoration": "balloon",
        "Birthday decoration": "cake", "Anniversary decoration": "favorite",
        "Baby shower": "stroller", "Welcome baby": "baby_changing_station",
        "Theme birthday decoration": "cake", "25th anniversary decoration": "silverware",
        "50th anniversary decoration": "diamond", "Bride to be": "ring_volume",
        "Groom to be": "tie", "Welcome baby boy": "male",
        "Welcome baby girl": "female", "Balloon ring decoration": "circle",
        "Sequence balloon decoration": "flare", "Matka Fogg service": "cloud",
        "Cold Pyro service": "local_fire_department", "Flower decoration": "local_florist",
        "Car decoration": "directions_car", "Bouquet balloon decoratio": "balloon",
        "Haldi decoration": "spa", "Mehndi decoration": "gesture",
        "Ring decoration": "circle", "Ring ceremony": "ring_volume",
        "Surprise decoration": "redeem", "Magic show": "magic_button",
        "Engagement": "ring_volume", "School events": "school",
        "Arches decoration": "architecture", "Balloon backdrop decoration": "photo_camera_back",
        "Balloon light and special effects": "lightbulb", "Flex printing decoration": "print",
        "Balloon printing and branding": "brush", "Christmas decoration": "forest",
        "Balloon twisting and entertainment": "attractions", "Decoration service": "construction",
        "Event planner": "edit_calendar", "Event planning": "event",
        "Fabric decoration": "styler", "Hotel room decoration": "hotel",
        "Light decoration": "tungsten", "Marriage and mehndi decoration": "favorite",
        "New year decoration": "celebration", "New year evining decoration": "nightlife",
        "Farewell decoration": "waving_hand", "Cocomelon decoration": "smart_display",
        "Tom & jerry decoration": "pets", "Surprise birthday decoration": "cake",
        "Sweet 16 decoration": "cake", "Traditional balloon decoration": "balloon",
        "Traditional Engagement Decoration": "ring_volume", "Traditional ring ceremony decoration": "ring_volume",
        "OYO ROOMS DECORATION": "hotel", "Holidayin decoration": "beach_access",
        "Indipendence day decoration": "flag", "Republic day decoration": "flag",
        "Office decoration": "work", "Office balloon decoration": "work",
        "Outdoor balloon decoration": "deck", "Children party planner": "child_care",
        "Candle light dinner": "restaurant", "Customize decoration": "tune",
        "Festival decoration": "festival", "First night decoration": "bed",
        "Helium balloon decoration": "air", "HomeEvent's": "home",
        "Kids balloon decoration": "child_care", "Kids celebration": "child_care",
        "Kids birthday party": "cake", "Parties and events": "celebration",
        "Special occasion": "star", "Velentine celebration": "favorite",
        "Stage Decoration": "theaters", "Balloon decoration in delhi": "location_city",
        "Balloon decoration in Noida": "location_city", "Balloon decoration in gurgaon": "location_city",
        "Balloon decoration near me": "near_me", "Balloon blast": "scatter_plot",
        "Magician": "magic_button", "Tattoo artist": "brush",
        "Car entry": "directions_car", "Moscots": "smart_toy",
        "Fog Entry": "cloud", "Payro Entry": "local_fire_department",
        "Mirror Entry": "mirror", "Ston eArt": "interests",
        "Music live band": "music_note", "Face painting": "face",
        "Anchor": "mic", "Live show anchor": "mic",
        "Puppet show": "smart_toy", "Long man": "man",
        "Mascot": "smart_toy", "Game cordinator": "sports_esports",
        "Joker artist": "sentiment_very_satisfied"
      };
      const defaultIcon = 'celebration';

      const servicesList = Object.keys(serviceIconMap);

      const carouselTrack1 = document.getElementById('carousel-track-1');
      const carouselTrack2 = document.getElementById('carousel-track-2');
      const prevServiceButton = document.getElementById('prev-service');
      const nextServiceButton = document.getElementById('next-service');

      let currentServiceIndex = 0;
      let itemsPerViewDesktopService = 6;
      let itemsPerViewMobileService = 1;
      let totalServiceItems = servicesList.length;
      let serviceItemsPerRow = Math.ceil(totalServiceItems / 2);

      function populateServiceCarousels() {
        carouselTrack1.innerHTML = '';
        carouselTrack2.innerHTML = '';
        serviceItemsPerRow = Math.ceil(servicesList.length / 2);

        servicesList.forEach((service, index) => {
          const card = document.createElement('div');
          card.className = 'carousel-item bg-card-light dark:bg-card-dark rounded-xl shadow-md border border-border-light dark:border-border-dark p-4 text-center aspect-square flex flex-col items-center justify-center';
          const iconName = serviceIconMap[service] || defaultIcon;
          card.innerHTML = `
                    <div class="flex items-center justify-center w-12 h-12 rounded-full bg-accent-gold/10 mb-3">
                         <span class="material-symbols-outlined text-accent-gold">${iconName}</span> 
                    </div>
                    <h5 class="text-text-light dark:text-text-dark text-sm font-semibold mb-1 font-body leading-tight">${service}</h5>
                    <p class="text-xs font-normal leading-snug text-subtle-text-light dark:text-subtle-text-dark font-body">Description placeholder</p> 
                `;
          if (index < serviceItemsPerRow) {
            carouselTrack1.appendChild(card);
          } else {
            carouselTrack2.appendChild(card);
          }
        });
        setTimeout(updateServiceCarousel, 50);
      }

      function updateServiceCarousel() {
        const serviceItems1 = carouselTrack1.querySelectorAll('.carousel-item');
        if (!serviceItems1 || serviceItems1.length === 0) return;

        const itemWidth = serviceItems1[0].offsetWidth;
        const gap = 16;
        const totalWidthPerItem = itemWidth + gap;

        const viewportWidth = document.getElementById('carousel-viewport').offsetWidth;

        let currentItemsPerView;
        if (window.innerWidth >= 1024) currentItemsPerView = itemsPerViewDesktopService;
        else if (window.innerWidth >= 768) currentItemsPerView = 3;
        else if (window.innerWidth >= 640) currentItemsPerView = 2;
        else currentItemsPerView = itemsPerViewMobileService;

        const itemsToSlide = 1;
        const actualItemsInRow1 = carouselTrack1.children.length;
        const maxIndex = Math.max(0, actualItemsInRow1 - currentItemsPerView);

        currentServiceIndex = Math.max(0, Math.min(currentServiceIndex, maxIndex));

        let translateValue = -currentServiceIndex * totalWidthPerItem;
        if (window.innerWidth < 640) {
          translateValue = -currentServiceIndex * (itemWidth + gap);
        } else {
          translateValue = -currentServiceIndex * totalWidthPerItem;
        }

        requestAnimationFrame(() => {
          carouselTrack1.style.transform = `translateX(${translateValue}px)`;
          carouselTrack2.style.transform = `translateX(${translateValue}px)`;
        });

        prevServiceButton.disabled = currentServiceIndex === 0;
        nextServiceButton.disabled = currentServiceIndex >= maxIndex;
      }

      nextServiceButton.addEventListener('click', () => {
        const itemsToSlide = 1;
        const actualItemsInRow1 = carouselTrack1.children.length;
        let currentItemsPerView;
        if (window.innerWidth >= 1024) currentItemsPerView = itemsPerViewDesktopService;
        else if (window.innerWidth >= 768) currentItemsPerView = 3;
        else if (window.innerWidth >= 640) currentItemsPerView = 2;
        else currentItemsPerView = itemsPerViewMobileService;
        const maxIndex = Math.max(0, actualItemsInRow1 - currentItemsPerView);

        currentServiceIndex = Math.min(currentServiceIndex + itemsToSlide, maxIndex);
        updateServiceCarousel();
      });

      prevServiceButton.addEventListener('click', () => {
        const itemsToSlide = 1;
        currentServiceIndex = Math.max(0, currentServiceIndex - itemsToSlide);
        updateServiceCarousel();
      });

      populateServiceCarousels();
      window.addEventListener('resize', () => {
        setTimeout(updateServiceCarousel, 150);
      });

      // --- Testimonial Carousel Logic (Re-added) ---
      const testimonials = [
        { name: "Aakansha S.", time: "3 months ago", rating: 5, comment: "Made my day memorable", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjXEKYcJnl3nHjibNi-OFPLWgzMJiLKChrsxagd2D-vw7aB_mZU4=s120-c-rp-mo-br100" },
        { name: "Anshu S.", time: "4 months ago", rating: 5, comment: "One of the best balloon decorators at a very reasonable price in Delhi . It's been 3 years since I have contacted him for any kind of decoration at my place. They not only decorate the way you want...", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjXtuWTpuPJn1UgnsKbq2lKUMMAaN6svV5t_o8j8ACJWU5S1mG8h=s120-c-rp-mo-br100" },
        { name: "Deepak S.", time: "5 months ago", rating: 5, comment: "Good work", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjXfHhB_DR4-z_P30lsFfHKlFPmni0ZHS28dUc7NkQlyflSwtzYo=s120-c-rp-mo-br100" },
        { name: "Ashi A.", time: "6 months ago", rating: 5, comment: "Amezing work.", avatar: "https://lh3.googleusercontent.com/a/ACg8ocLnyY15jGipAhexlkSfY6G7G_-A_8cu9G00M4TYgE2KXlar2Q=s120-c-rp-mo-br100" },
        { name: "Dheeraj S.", time: "7 months ago", rating: 5, comment: "It was magnificent :)", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjWX4ZuLLUrpA21IHOZc2g3tMWLv2SNdhzpBXpoSxJKhPQVxV9mO=s120-c-rp-mo-br100" },
        { name: "Sumit K.", time: "8 months ago", rating: 5, comment: "It was a wonderful decor. The way I wanted it to be, It was the exact way and impressed me to book for more occasions too..", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjWMk11TqnXKuZnHKCNj64h4yiEtzozup3xxSOxeKmMjtAPadD2k=s120-c-rp-mo-br100" },
        { name: "vikash K.", time: "9 months ago", rating: 5, comment: "Very good behaviour very cooperative", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjV2CffiTR5R0cG-zwkT5pWeM5HATmnl96IYMgGbISPTj_BMrdkRgA=s120-c-rp-mo-br100" },
        { name: "GSS-MK D.", time: "9 months ago", rating: 5, comment: "Excellent work", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjUu1S3KcnAGKhgBWVYCRDgFMunlBbJmtUVxEWbAPx8QobbxM3Ym=s120-c-rp-mo-br100" },
        { name: "Kirti C.", time: "10 months ago", rating: 5, comment: "Done fantastic job", avatar: "https://lh3.googleusercontent.com/a/ACg8ocL-4XhbJ_SGgQAzH9yyKHja9CyE3SKGyiif5xNR8_Tt-rX24A=s120-c-rp-mo-br100" },
        { name: "Ankit K.", time: "1 year ago", rating: 5, comment: "Good decoration", avatar: "https://lh3.googleusercontent.com/a-/ALV-UjVGvPAdqpgCmDSgP0N-bwTT2GiUZQPOYAd8QydMToH71V0j0ZtE=s120-c-rp-mo-br100" },
      ];

      const testimonialTrack = document.getElementById('testimonial-carousel-track');
      const prevTestimonialButton = document.getElementById('prev-testimonial');
      const nextTestimonialButton = document.getElementById('next-testimonial');
      let currentTestimonialIndex = 0;
      let itemsPerViewDesktopTestimonial = 3;
      let itemsPerViewMobileTestimonial = 1;

      function populateTestimonialCarousel() {
        if (!testimonialTrack) return; // Guard clause
        testimonialTrack.innerHTML = ''; // Clear existing
        testimonials.forEach(testimonial => {
          const card = document.createElement('div');
          card.className = 'testimonial-item bg-card-light dark:bg-card-dark rounded-xl shadow-md border border-border-light dark:border-border-dark p-6 animate-on-scroll h-full flex flex-col';
          let stars = '';
          for (let i = 0; i < 5; i++) {
            stars += `<span class="material-symbols-outlined text-base ${i < testimonial.rating ? 'text-accent' : 'text-gray-300'}">star</span>`;
          }
          const shortComment = testimonial.comment.length > 150 ? testimonial.comment.substring(0, 147) + "..." : testimonial.comment;

          card.innerHTML = `
                    <div class="flex items-center mb-4">
                        <img class="h-12 w-12 rounded-full mr-4 object-cover" src="${testimonial.avatar}" alt="${testimonial.name} avatar">
                        <div>
                            <p class="font-semibold text-text-light dark:text-text-dark font-body">${testimonial.name}</p>
                            <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark font-body">${testimonial.time}</p>
                        </div>
                        <div class="ml-auto flex">${stars}</div>
                    </div>
                    <p class="text-subtle-text-light dark:text-subtle-text-dark italic font-body text-sm flex-grow">${shortComment}</p> 
                `;
          testimonialTrack.appendChild(card);
        });
        testimonialTrack.querySelectorAll('.animate-on-scroll').forEach((el) => {
          animationObserver.observe(el);
        });
        setTimeout(updateTestimonialCarousel, 50);
      }

      function updateTestimonialCarousel() {
        const testimonialItems = testimonialTrack.querySelectorAll('.testimonial-item');
        if (!testimonialItems || testimonialItems.length === 0) return;

        const itemWidth = testimonialItems[0].offsetWidth;
        const gap = 16;
        const totalWidthPerItem = itemWidth + gap;
        const viewportWidth = document.getElementById('testimonial-carousel-viewport').offsetWidth;

        let currentItemsPerView;
        if (window.innerWidth >= 1024) currentItemsPerView = itemsPerViewDesktopTestimonial;
        else if (window.innerWidth >= 768) currentItemsPerView = 2;
        else currentItemsPerView = itemsPerViewMobileTestimonial;

        const itemsToSlide = 1;
        const maxIndex = Math.max(0, testimonials.length - currentItemsPerView);
        currentTestimonialIndex = Math.max(0, Math.min(currentTestimonialIndex, maxIndex));

        let translateValue = -currentTestimonialIndex * totalWidthPerItem;
        if (window.innerWidth < 640) {
          translateValue = -currentTestimonialIndex * (itemWidth + gap);
        } else {
          translateValue = -currentTestimonialIndex * totalWidthPerItem;
        }

        requestAnimationFrame(() => {
          testimonialTrack.style.transform = `translateX(${translateValue}px)`;
        });

        prevTestimonialButton.disabled = currentTestimonialIndex === 0;
        nextTestimonialButton.disabled = currentTestimonialIndex >= maxIndex;
      }

      nextTestimonialButton.addEventListener('click', () => {
        const itemsToSlide = 1;
        let currentItemsPerView;
        if (window.innerWidth >= 1024) currentItemsPerView = itemsPerViewDesktopTestimonial;
        else if (window.innerWidth >= 768) currentItemsPerView = 2;
        else currentItemsPerView = itemsPerViewMobileTestimonial;
        const maxIndex = Math.max(0, testimonials.length - currentItemsPerView);

        currentTestimonialIndex = Math.min(currentTestimonialIndex + itemsToSlide, maxIndex);
        updateTestimonialCarousel();
      });

      prevTestimonialButton.addEventListener('click', () => {
        const itemsToSlide = 1;
        currentTestimonialIndex = Math.max(0, currentTestimonialIndex - itemsToSlide);
        updateTestimonialCarousel();
      });

      populateTestimonialCarousel(); // Populate testimonials
      window.addEventListener('resize', () => {
        setTimeout(updateTestimonialCarousel, 150);
      });

      // --- Gemini API Logic ---
      const generateThemesBtn = document.getElementById('generate-themes-btn');
      const themeModal = document.getElementById('theme-modal');
      const closeModalBtn = document.getElementById('close-modal-btn');
      const themeModalContent = document.getElementById('theme-modal-content');
      const themeModalLoading = document.getElementById('theme-modal-loading');
      const eventTypeSelect = document.getElementById('event-type-select');
      const eventLocationInput = document.getElementById('event-location-input');
      const eventThemeInput = document.getElementById('event-theme-input');

      const apiKey = ""; // Leave as-is, will be populated by the environment
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

      function showModal() { themeModal.classList.remove('hidden'); }
      function hideModal() { themeModal.classList.add('hidden'); }

      closeModalBtn.addEventListener('click', hideModal);
      themeModal.addEventListener('click', (e) => {
        if (e.target === themeModal) { hideModal(); }
      });

      themeModalContent.addEventListener('click', (e) => {
        if (e.target.classList.contains('select-theme-btn')) {
          const themeName = e.target.dataset.themeName;
          if (themeName) { eventThemeInput.value = themeName; }
          hideModal();
        }
      });

      async function fetchWithRetry(url, options, retries = 3, delay = 1000) {
        try {
          const response = await fetch(url, options);
          if (!response.ok) {
            if (response.status === 429 && retries > 0) {
              await new Promise(resolve => setTimeout(resolve, delay));
              return fetchWithRetry(url, options, retries - 1, delay * 2);
            }
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          return response.json();
        } catch (error) {
          if (retries > 0) {
            await new Promise(resolve => setTimeout(resolve, delay));
            return fetchWithRetry(url, options, retries - 1, delay * 2);
          }
          throw error;
        }
      }

      generateThemesBtn.addEventListener('click', async () => {
        showModal();
        themeModalContent.innerHTML = '';
        themeModalLoading.classList.remove('hidden');

        const eventType = eventTypeSelect.value;
        const location = eventLocationInput.value || 'any location';

        const systemPrompt = "You are an expert event planner for 'Birthday Decoration King'. Your goal is to inspire clients with creative, elegant, and exciting theme ideas. Provide 5 theme ideas based on the user's request. Format the response as a JSON array, following the provided schema. Make the themes unique and descriptive.";
        const userQuery = `Generate 5 creative theme ideas for a ${eventType} party in ${location}.`;

        const schema = {
          type: "ARRAY",
          items: {
            type: "OBJECT",
            properties: {
              "themeName": { "type": "STRING" },
              "description": { "type": "STRING" },
              "keywords": {
                "type": "ARRAY",
                "items": { "type": "STRING" }
              }
            },
            required: ["themeName", "description", "keywords"]
          }
        };

        const payload = {
          contents: [{ parts: [{ text: userQuery }] }],
          systemInstruction: {
            parts: [{ text: systemPrompt }]
          },
          generationConfig: {
            responseMimeType: "application/json",
            responseSchema: schema
          }
        };

        try {
          const result = await fetchWithRetry(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });

          if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts[0].text) {
            const jsonText = result.candidates[0].content.parts[0].text;
            const themes = JSON.parse(jsonText);
            displayThemes(themes);
          } else {
            throw new Error("Invalid response structure from API.");
          }

        } catch (error) {
          console.error('Error fetching theme ideas:', error);
          themeModalContent.innerHTML = `<p class="text-red-500 font-body">Sorry, we couldn't generate themes right now. Please try again later.</p>`;
        } finally {
          themeModalLoading.classList.add('hidden');
        }
      });

      function displayThemes(themes) {
        let html = '<ul class="space-y-4">';
        themes.forEach(theme => {
          html += `
                  <li class="border-b border-border-light dark:border-border-dark pb-4 last:pb-0 last:border-b-0">
                      <h4 class="text-lg font-display text-primary dark:text-accent">${theme.themeName}</h4>
                      <p class="text-sm text-subtle-text-light dark:text-subtle-text-dark my-1">${theme.description}</p>
                      <p class="text-xs text-text-light/70 dark:text-text-dark/70 font-body mb-3">
                          <strong>Keywords:</strong> ${theme.keywords.join(', ')}
                      </p>
                      <button type="button" 
                              class="select-theme-btn w-full text-sm bg-accent text-white dark:text-background-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity"
                              data-theme-name="${theme.themeName}">
                          Select this Theme
                      </button>
                  </li>
              `;
        });
        html += '</ul>';
        themeModalContent.innerHTML = html;
      }

    });
  </script>
</body>

</html>